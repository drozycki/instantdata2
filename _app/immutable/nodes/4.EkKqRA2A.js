import{b as c,_}from"../chunks/Br3SQTEV.js";import{t as g,a as y}from"../chunks/Dq0GJUeH.js";import{i as v}from"../chunks/CeQWUEQR.js";import{p as f,a as b,c as w,s as h,g as r,m as E,b as L,r as M}from"../chunks/C3p6SYRz.js";import{C as n,L as q,a as C,P as S,b as x,c as k,T as D,p as P,d as R,e as T,s as A}from"../chunks/wLx3ECR1.js";import{o as F,a as I}from"../chunks/B2-eMpLL.js";import{b as O}from"../chunks/DSk17JdS.js";var W=g('<div style="position: relative; width: 100vw; height: 100vh;"><p>Loaded chart</p> <canvas></canvas></div>');function B(l,p){f(p,!1);let t=E(),e;n.register(q,C,S,x,k,D,P,R,T),F(async()=>{const i=(await _(async()=>{const{default:a}=await import("../chunks/sRMH61YM.js");return{default:a}},[],import.meta.url)).default;e=new i,e.postMessage({message:"open",url:`${O}/db.sqlite`}),e.onmessage=async({data:a})=>{if(a.message==="ready")e.postMessage({message:"query",query:"SELECT date,aqi FROM aqi WHERE countyId = 81;"});else if(a.message==="result")new n(r(t),{type:"line",data:{datasets:[{data:a.result.map(([d,u])=>({x:d*1e3,y:u}))}]},options:{parsing:!1,animation:{duration:0,onComplete:()=>{}},responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{tooltipFormat:"MMM D"}},y:{}},plugins:{title:{display:!0,text:"2022 San Francisco Daily Air Quality Index"},tooltip:{enabled:!0}}}});else throw new Error("Unknown worker message type")}}),I(()=>e?.terminate()),v();var s=W(),o=w(s);A(o,"style","display: none;");var m=h(o,2);c(m,i=>L(t,i),()=>r(t)),M(s),y(l,s),b()}export{B as component};
